<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
    PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN"
    "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">
    
<mapper namespace="com.ncs.example.mapper.UserMapper">

    <select id="selectByUserId" parameterType="int" resultMap="resultMapper.userResultMap">
        SELECT * FROM TB_USER WHERE USER_ID =#{userId}
      </select>
      
      <insert id="insertUser" parameterType="User">
          INSERT INTO TB_USER (USER_ID
			,USER_NAME
			,USER_PWD
			,WECHAT_ID
			,WECHAT_NAME
			,PHONE_NO
			,EMAIL
			,IS_DELETED
			,CREATE_BY
			,CREATE_DT
			,UPDATE_BY
			,UPDATE_DT
			,VERSION_NO)	
          VALUES(#{userId}, #{userName},#{userPwd}, #{wechatId}, #{wechatName}, #{phoneNo}, #{email}, #{isDeleted}, #{createBy}, #{createDt}, #{updateBy}, #{updateDt}, #{versionNo})
      </insert>
      
      <update id="updateUser" parameterType="User">
          UPDATE TB_USER SET USER_NAME=#{userName},USER_PWD=#{userPwd} WHERE USER_ID=#{userId}
      </update>
      
      <delete id="deleteUserByid" parameterType="int">
          UPDATE TB_USER SET IS_DELETED='Y' WHERE USER_ID=#{userId}
      </delete>
	
	  <select id="selectByUserName" parameterType="String" resultMap="resultMapper.userResultMap">
	  	   SELECT * FROM TB_USER WHERE USER_NAME = #{name}
	  </select>
	  
	  <select id="getUserCount"  resultType="Integer">
	  	   SELECT COUNT(*) FROM TB_USER
	  </select>
	  
</mapper>